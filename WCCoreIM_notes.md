# WCCoreIM

[TOC]

## 1、前言

​        本文描述IM业务模型以及基础能力接口，将IM架构分为UI层和数据层，并采用单向数据流的方式，即IM业务数据变更驱动UI更新。

​        本文定义的 IM模型，是针对UI提供的数据模型，属于ViewObject（后简称VO）。IM模型包括会话模型、消息模型、用户模型等，UI渲染以及UI逻辑层（后统一简称UI层）对接该模型，对通道底层数据类型无感知。目的是视图和数据解耦，为视图可以采用任意UI动态化渲染方案打下数据层的基础。



2、



## 3、IM核心业务



| 功能     | 说明 |
| -------- | ---- |
| 会话列表 |      |
| 消息列表 |      |
| 群设置   |      |
| 单聊设置 |      |



### (1) 会话列表

#### a. 业务功能

多个会话列表容器，业务体现上，全部会话列表、未读会话列表



基础能力
数据层到UI层，会话映射，即数据层有一个容器维护一个会话数组，而UI层也会存在多个容器，每个容器



数据层的数据



#### b. 会话属性

红点

最后一条消息



(2) 消息列表

UI组件

表情组件（点赞）





## 4、版本兼容问题

会话类型、消息类型，如果新增类型，低版本应该提示当前版本不支持，请求升级版本。

因此，第一个SDK版本，应该支持会话、消息降级提示，以及降级提示的样式自定义。





















